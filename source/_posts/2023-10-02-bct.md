---
title: BCT National Holiday Training
subtitle: rabbit
layout: post
show: true
top: false
tags: 
- 日志
- 笔记
---

## DS

### CF1672H

已收录

### CF1290E

大根笛卡尔树子树大小就是当前点作为最大值的区间,于是想到逐个插入维护左右端点,但相邻两个插入的元素之间未被插入元素多算的贡献是不好去除的,所以需要插入的时候不是插入的原序列对应位置上而是无空隙紧挨着插入,每次是区间取max/min和区间加.

### CF809D

LIS两个主要做法分别是记录以某值结尾的最短长度和某长度对应的最小结尾.此题一维表示当前前$i$个数,若第二维表示当前的值那么转移是跳跃的,如果记录长度则是连续的.

于是$f_{i,j}$表示前$i$个,长度为$j$的结尾最小值,那么显然

$$
f_{i,j}=\max f_{i-1,j},
\begin{cases}
    f_{i-1,j-1}+1,f_{i-1,j-1}+1\in [l_i,r_i]\\
    l_i,f_{i-1,j-1}+1<l_i\\
    inf,f_{i-1,j-1}+1>r_i
\end{cases}
$$

显然$f_i$是递增的,考虑数据结构维护状态,那么第二种转移显然就是直接区间赋值了,而第一种转移需要平移之后和原来的比较,发现不用比较:$f_{i-1,j}$一定是某一$k$由$f_{k,j-1}$转移到了$k$,此时发现$f_{i-1,j-1}\le f_{k,j-1}$,所以可以不需要考虑max,于是就成了平移,平衡树好做的.

### CF1648D

考虑dp,走到$(2,i)$的代价为$f_i$

那么要走到这个位置至少要点亮一个区间,有两种情况,在这个区间的范围内从第一行进入当前行走过来,或者从区间左端点上一个过来.

那么考虑如何转移,这个区间要包含当前点,排序后是一个区间,第一种情况的值可以直接挂钩到区间上,第二种看来也可以,于是直接线段树维护.

### CF407E

## String